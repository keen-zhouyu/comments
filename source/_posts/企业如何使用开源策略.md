
---
title: 由字节的火山引擎开源违规谈起企业开源策略
date: 2022-02-27
author: 狄安
categories: 狄安
tags:
    - 瞰见
    - 开源
    - 开源共同体
---


就在距壬寅虎年春节前几天，开源圈又冒出了一个大瓜：字节跳动子公司火山引擎在其发布的一个产品中使用Apache基金会下的开源软件Apache SkyWalking时，没有遵循其Apache 2.0的开源许可规定，导致直接违规。 在如今开源许可协议种类繁多，规则复杂的情况下，Apache开源基金会被认为是一个对开源使用方相当友善的开源组织，而Apache 2.0开源协议也是所有开源许可中被认为是非常宽松的软件许可。一般使用方只要在使用这样的软件时做好声明就可以了。而这次ApacheSkywalking 官方则直接爆出火山引擎在使用Apache Sky walking期间不仅在他们的分发中没有保留Apache软件基金会的许可和通知文件，还直接改变了所有使用到的软件包名称，并删除了Apache基金会的Header。虽然鲁迅先生早说过一句令人警醒的话”向来不惮以最坏的恶意去推测国人。“ 然而，我还是不忍以任何恶意去揣测字节和火山引擎的行为，只是遗憾连如此顶流的科技巨头，对于开源治理也竟如此缺失。可见，开源普及的雄关漫道真如铁。

此事件一出， 也立刻引起开源圈人士各种议论纷纷，有呼吁Apache基金会拿起法律武器直接进行维权。火山引擎项目团队似乎也意识到了事件的严重性，随即在1月30日向skywalking 官方承认了自己的违规行为，并马上在产品中做出了修正更新：承认自己产品的分发是skywalking的一个分叉版，同时补充加入了Apache 2.0的许可证和通知，并恢复了相应的Skywalking许可证标头。

确实，开源作为软件知识的自由共享方式，开源许可作为开源软件能确保按其开源创作者的共享意愿下来进行自由分享的协议规则，它的本意不是去挑起法律争端。如Apache 基金会的董事吴晟在其朋友圈表示，“很多人理解错了SkyWalking进行License维权的原因。我们不是慈善，但是for public good，希望联合更多的人构建世界顶尖的软件。今天的时代，很多为了marketing为了营收做开源，但这不是Apache基金会和顶级项目的目标。”

吴晟在话语中表达了一个重要的观点：开源是公益，for Public Good, 但却也不会是无任何底线的慈善。这也正如我们OpenTEKr社区所一贯主张的 ”自由与规则同在，免费与商业共生“，这应该是开源的一个基本原则与共识。联想到之前另外一个科技巨头在开源项目运营时，完全忽视了开源中的程序员声誉文化的内涵，为了提高其开源项目的关注度而简单粗暴的用传统互联网营销中点赞送礼的方式来试图圈粉。这样那样因为对开源的误读误用而发生的笑话，实际上如出一辙。而随着开源在国内的进一步深入，如果没有正确的开源认知，无论科技大厂，还是一般企业，我相信这样的问题将绝不会是个别案例。 
 
就如，刚刚过去的中国足球在大年初一以1:3惨败给越南这样令人羞耻的失败类似。虽然给球迷们添堵，但当我们回过头去看下中国足球的基础教育情况，就拿我们近十四亿人中足球注册人口区区不到2万人的数量，和那些足球强国虽然绝对人口只有数千万，但动不动就是百万万人的足球注册人口相比。我们也就没有什么可以埋怨的，谁让我们如此无视足球的基础教育呢！ 开源如是，我们与其去批评和谴责这些企业所犯的低级错误，不如让我们去思考该如何帮助他们在企业中建立开源的认知及如何开展有效的开源治理的方法？ 

Linux基金会在2018年时出过一份《企业开源实践指导》的手册。其当时就指出开源的渗透率在全球范围内已经从本世纪初的20%到2018年时的85%或更高的程度。事实上，无论身处哪个行业，或者开发什么样的产品或软件，你已经都可能高度依赖着各类开源软件。那么为更好的使用开源，对于企业开源实践是个无论是企业的管理着，研发部门负责人，或者是一个软件工程师，必须对开源做必要的了解和掌握。对于企业使用开源的好处已经毋庸讳言，但什么是企业用开源的正确姿势呢？那本手册里综合了近二十年以来国际上各大企业的开源实践，给出了很多极具参考价值的建议和操作指南。其中，最重要的一步就是企业在使用开源的过程中，建立与自己企业的发展相对应的开源策略。在该手册中定义了企业使用开源的四项策略：开源的消费策略，开源的参与策略，开源的贡献策略，开源的领导策略。

在这里，就结合该手册的内容，和各位读者普及一下这四项策略。
1．开源的消费策略
大多数的企业一般是首先作为开源软件的使用方，即开源消费者，来和开源发生关系的。而企业作为开源消费者介入开源时，往往一开始是由企业内部的软件工程师驱动的，从在企业内部的软件系统设施或者自己的商业产品中使用到不同的开源技术以来提高自己的研发效率减少时间，降低研发成本，并提高产品差异化的能力。而企业在作为开源消费者并因此获得收益后，大多数的企业也会在很长的时间内保持在作为开源的消费方这一个定位上。那么，为了让自己在作为开源消费者时不发生错误，那么以下的几点就可以是作为企业开源消费策略的必要组成部分：
	建立一套开源使用的分类方案来指导关于使用哪些类别开源软件的业务决策。
	建立一套开源合规体系来确保公司遵守履行使用开源软件的存在的所有义务。
	建立一个开源审查委员会（Open Source Review Board, OSRB），作为公司开源活动的管理中心。如果条件不够，那么也至少在公司内部成立一个开源治理检查小组，
	建立一个开源软件的使用流程以用于评估和批准开源使用情况。必要的话，可以部署一些自动化工作流程软件来管理。
	建立一个和开源相关的年度预算制度，确保在工程、产品管理和法律方面的员工数量和基础设施方面定期进行一定的增量投资，以管理闭源和开源软件间的复杂组合。

2. 开源的参与策略
由内部工程师驱动的企业开源消费也经常会由工程师进将此驱动进一步升级到企业以不同的形式或多或少参与到开源社区地活动中去，这是一种自下而上的企业自发地开源参与方式。而企业一旦也获得了在开源消费上的成功，那么企业也同时会自然而然地产生与开源社区更紧密地接触需要。如期望提高自己企业地知名度来从社区中招募了经验丰富的开发人员，以下是开源参与策略的必要组成部分：
	实时跟踪社区沟通平台，如聊天服务器，邮件列表，论坛和网站，以随时了解项目发展情况。
	参加相关会议和聚会，与社区建立关系。
	赞助项目活动和基金会，以提高社区内的知名度。
	教育开发人员如何参与和参与开源项目

3. 开源地贡献策略：
当企业意识到以基层工程师驱动的开源介入转化到以业务驱动的开源介入时，也就以为意味着企业在意识上准备好了从原先开源参与的基础上进行构建开源，并开始为开源项目贡献代码。那么对于企业而言，这是就需要有选择地与目标开源项目及相应的开源社区进行合作，以推动和实现公司对于开源的需求，并为战略性开源项目做出特定的贡献以获得额外的价值。因为代码贡献可以帮助塑造项目中满足公司需要的软件功能。以下几点就是这个策略阶段的考虑要点
	任命一名项目负责人来领导开源策略及管理企业内部的开源小组。 
	招募开源项目的贡献者和提交者去加入到对企业产品产生重要影响的开源社区。
	部署开源协作工具以支持和管理开源使用和贡献。
	有计划地增加一些开源开发人员资源。
	在工程、产品管理和法律方面进行必要地增量投资，以参与现有的外部开源社区

4. 开源的领导策略
在四大开源策略的最后一项就是领导策略。此策略应当建立此前所有的策略基础之上，而此时的企业也当是希望以利用新兴的技术趋势来建立自己领导地位为自己的业务战略。在现有的开源社区中，领导角色是通过与项目成员建立信任并保持对项目的高度持续贡献而获得的。这种情况需要对目标开源社区和联盟进行大量投资，以建立领导地位。它还需要在工程，产品管理和法律方面增加投入，以在外部社区和行业联盟中建立领导地位。以下是开源领导战略的必要组成部分：
	增加与目标开源社区的互动。 
	有选择地采用一些开放标准来驱动公司的产品。 
	开展与开源基金会的合作。
	建立开源项目、开源组织或基金会。 
	在工程、产品管理和法律方面进行增量投资，以与现有的外部社区互动。

动态的开源策略

在以上的开源软件方面谈到的消费，参与，贡献和领导力这四大策略中，每个策略也并不是孤立的，而是一系列连贯的阶梯型策略，每个策略的部署会要求企业在前面的策略中取得成功，而一个企业在这个阶梯上能走多远完全取决于企业自己。当从一个位置过渡到另一个位置时，它们通常会重叠。如前面谈到的，在开源的早期阶段（企业作为消费和参与者）主要是由工程驱动的，因为当工程师基于技术优势开始使用各种开源组件来加速开发并且参与选定的项目时，要么加入对话，要么做出小贡献。而随着时间的推移，这种使用在公司的高层中变得众所周知，当它获得牵引力时，这种参与就会在确定的战略下成为业务驱动的开源策略。 一些公司只是作为消费方实现他们的目标，并满足于保持这个水平，而有些公司则有不同的抱负，并希望在排名中推得更高，以获得一定的领导地位。每个企业完全可以根据自己的实际情况和开源发展的成熟度，最重要的是确定自己在梯子中的当前位置以及建立自己目标位置，并且构建好从当前位置移动到目标位置的蓝图路径

最后，始终不能忽略的一个关键是，在确定开源策略时，也有几个问题需要回答，并且应该越早回答越好。这些问题如下：开源要帮企业解决什么样的问题？我们参与或者建设什么样的开源项目社区？内部企业开源治理和内部企业文化是否能成为开源的赋能者？



